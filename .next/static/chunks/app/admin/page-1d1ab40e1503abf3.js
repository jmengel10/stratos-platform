(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3],{2535:function(e,t,s){Promise.resolve().then(s.bind(s,679))},1524:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(7461).Z)("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2071:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(7461).Z)("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},8219:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(7461).Z)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},9910:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(7461).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},9733:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(7461).Z)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},4059:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});/**
 * @license lucide-react v0.323.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,s(7461).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},679:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var i=s(3827),r=s(4090),n=s(7418),l=s(6651),a=s(8584),c=s(4059),d=s(9733),o=s(1524),x=s(9910),u=s(2071),m=s(8219);function h(){let[e,t]=(0,r.useState)([]),[s,h]=(0,r.useState)(!0);(0,r.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await fetch("/api/admin/clients"),s=await e.json();t(s)}catch(e){console.error("Error fetching clients:",e)}finally{h(!1)}},v=e=>(0,i.jsx)(a.C,{variant:"active"===e?"active":"inactive"===e?"planning":"in-progress",children:e.replace("_"," ")}),f=e=>({starter:"text-blue-600",pro:"text-green-600",firm:"text-purple-600",enterprise:"text-orange-600"})[e]||"text-gray-600";return s?(0,i.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,i.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-[#33A7B5]"})}):(0,i.jsx)("div",{className:"min-h-screen bg-[#F9FAFB]",children:(0,i.jsxs)("div",{className:"p-8",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-[#0F172A] mb-2",children:"Admin Dashboard"}),(0,i.jsx)("p",{className:"text-[#6B7280]",children:"Manage clients, subscriptions, and platform configuration"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,i.jsx)(n.Z,{children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsx)(c.Z,{className:"h-8 w-8 text-[#33A7B5]"})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-[#6B7280]",children:"Total Clients"}),(0,i.jsx)("p",{className:"text-2xl font-semibold text-[#0F172A]",children:e.length})]})]})}),(0,i.jsx)(n.Z,{children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsx)(d.Z,{className:"h-8 w-8 text-green-600"})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-[#6B7280]",children:"Active Subscriptions"}),(0,i.jsx)("p",{className:"text-2xl font-semibold text-[#0F172A]",children:e.filter(e=>"active"===e.subscription.status).length})]})]})}),(0,i.jsx)(n.Z,{children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsx)(o.Z,{className:"h-8 w-8 text-yellow-600"})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-[#6B7280]",children:"Past Due"}),(0,i.jsx)("p",{className:"text-2xl font-semibold text-[#0F172A]",children:e.filter(e=>"past_due"===e.subscription.status).length})]})]})}),(0,i.jsx)(n.Z,{children:(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"flex-shrink-0",children:(0,i.jsx)(x.Z,{className:"h-8 w-8 text-gray-600"})}),(0,i.jsxs)("div",{className:"ml-4",children:[(0,i.jsx)("p",{className:"text-sm font-medium text-[#6B7280]",children:"With Overrides"}),(0,i.jsx)("p",{className:"text-2xl font-semibold text-[#0F172A]",children:e.filter(e=>{var t,s,i,r;return(null===(s=e.overrides)||void 0===s?void 0:null===(t=s.pricing)||void 0===t?void 0:t.enabled)||(null===(r=e.overrides)||void 0===r?void 0:null===(i=r.limits)||void 0===i?void 0:i.enabled)}).length})]})]})})]}),(0,i.jsxs)(n.Z,{className:"mb-8",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-[#0F172A] mb-4",children:"Quick Actions"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)(l.z,{className:"flex items-center gap-2",children:[(0,i.jsx)(x.Z,{className:"w-4 h-4"}),"Global Configuration"]}),(0,i.jsxs)(l.z,{variant:"outline",className:"flex items-center gap-2",children:[(0,i.jsx)(u.Z,{className:"w-4 h-4"}),"Usage Analytics"]}),(0,i.jsxs)(l.z,{variant:"outline",className:"flex items-center gap-2",children:[(0,i.jsx)(m.Z,{className:"w-4 h-4"}),"Billing Overview"]})]})]}),(0,i.jsxs)(n.Z,{children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,i.jsx)("h2",{className:"text-xl font-semibold text-[#0F172A]",children:"Recent Clients"}),(0,i.jsx)(l.z,{children:"View All Clients"})]}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Client"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tier"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usage"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Overrides"})]})}),(0,i.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.slice(0,5).map(e=>{var t,s,r,n,l,c,d,o;return(0,i.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-sm font-medium text-[#0F172A]",children:e.name}),(0,i.jsx)("div",{className:"text-sm text-[#6B7280]",children:e.id})]})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsx)("span",{className:"text-sm font-medium ".concat(f(e.tier)),children:e.tier.charAt(0).toUpperCase()+e.tier.slice(1)})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:v(e.subscription.status)}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-[#6B7280]",children:(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{children:["Projects: ",e.usage.projects]}),(0,i.jsxs)("div",{children:["Tokens: ",Math.round(e.usage.tokens.total/1e3),"K"]}),(0,i.jsxs)("div",{children:["Storage: ",Math.round(e.usage.storage/1024/1024/1024),"GB"]})]})}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,i.jsxs)("div",{className:"flex flex-col space-y-1",children:[(null===(s=e.overrides)||void 0===s?void 0:null===(t=s.pricing)||void 0===t?void 0:t.enabled)&&(0,i.jsx)(a.C,{variant:"planning",children:"Custom Pricing"}),(null===(n=e.overrides)||void 0===n?void 0:null===(r=n.limits)||void 0===r?void 0:r.enabled)&&(0,i.jsx)(a.C,{variant:"planning",children:"Custom Limits"}),!(null===(c=e.overrides)||void 0===c?void 0:null===(l=c.pricing)||void 0===l?void 0:l.enabled)&&!(null===(o=e.overrides)||void 0===o?void 0:null===(d=o.limits)||void 0===d?void 0:d.enabled)&&(0,i.jsx)("span",{className:"text-sm text-gray-400",children:"None"})]})})]},e.id)})})]})})]})]})})}},8584:function(e,t,s){"use strict";s.d(t,{C:function(){return n}});var i=s(3827),r=s(2169);function n(e){let{children:t,variant:s="default",size:n="sm",className:l}=e;return(0,i.jsx)("span",{className:(0,r.cn)("inline-flex items-center rounded-full font-medium",{default:"bg-gray-100 text-gray-800",active:"bg-status-active text-white","in-progress":"bg-status-in-progress text-white",planning:"bg-status-planning text-white",completed:"bg-status-completed text-white","role-owner":"bg-role-owner text-white","role-admin":"bg-role-admin text-white","role-member":"bg-role-member text-white","role-client":"bg-role-client text-white","role-viewer":"bg-role-viewer text-white"}[s],{sm:"px-2 py-1 text-xs",md:"px-3 py-1 text-sm"}[n],l),children:t})}},6651:function(e,t,s){"use strict";s.d(t,{z:function(){return c}});var i=s(3827),r=s(4090),n=s(9769),l=s(2169);let a=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-primary text-white hover:bg-primary/90",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",outline:"border border-border bg-transparent hover:bg-gray-50",ghost:"hover:bg-gray-100",destructive:"bg-red-500 text-white hover:bg-red-600"},size:{sm:"h-8 px-3 text-xs",default:"h-10 px-4 py-2",lg:"h-12 px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"primary",size:"default"}}),c=r.forwardRef((e,t)=>{let{className:s,variant:r,size:n,asChild:c=!1,loading:d=!1,...o}=e;return(0,i.jsxs)("button",{className:(0,l.cn)(a({variant:r,size:n,className:s})),ref:t,disabled:d||o.disabled,...o,children:[d&&(0,i.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,i.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,i.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),o.children]})});c.displayName="Button"},7418:function(e,t,s){"use strict";s.d(t,{Z:function(){return n}});var i=s(3827),r=s(2169);function n(e){let{children:t,className:s,hover:n=!1}=e;return(0,i.jsx)("div",{className:(0,r.cn)("bg-white border border-border rounded-lg shadow-sm",n&&"hover:shadow-md transition-shadow",s),children:t})}},2169:function(e,t,s){"use strict";s.d(t,{S:function(){return l},cn:function(){return n}});var i=s(3167),r=s(1367);function n(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,i.W)(t))}function l(e){let t=new Date,s="string"==typeof e?new Date(e):e,i=Math.floor((t.getTime()-s.getTime())/1e3);return i<60?"just now":i<3600?"".concat(Math.floor(i/60),"m ago"):i<86400?"".concat(Math.floor(i/3600),"h ago"):"".concat(Math.floor(i/86400),"d ago")}},9769:function(e,t,s){"use strict";s.d(t,{j:function(){return l}});var i=s(3167);let r=e=>"boolean"==typeof e?"".concat(e):0===e?"0":e,n=i.W,l=(e,t)=>s=>{var i;if((null==t?void 0:t.variants)==null)return n(e,null==s?void 0:s.class,null==s?void 0:s.className);let{variants:l,defaultVariants:a}=t,c=Object.keys(l).map(e=>{let t=null==s?void 0:s[e],i=null==a?void 0:a[e];if(null===t)return null;let n=r(t)||r(i);return l[e][n]}),d=s&&Object.entries(s).reduce((e,t)=>{let[s,i]=t;return void 0===i||(e[s]=i),e},{});return n(e,c,null==t?void 0:null===(i=t.compoundVariants)||void 0===i?void 0:i.reduce((e,t)=>{let{class:s,className:i,...r}=t;return Object.entries(r).every(e=>{let[t,s]=e;return Array.isArray(s)?s.includes({...a,...d}[t]):({...a,...d})[t]===s})?[...e,s,i]:e},[]),null==s?void 0:s.class,null==s?void 0:s.className)}}},function(e){e.O(0,[700,971,69,744],function(){return e(e.s=2535)}),_N_E=e.O()}]);