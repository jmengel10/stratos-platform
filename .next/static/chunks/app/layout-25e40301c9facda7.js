(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3602:function(e,r,t){Promise.resolve().then(t.bind(t,2381))},2381:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return B}});var s=t(3827),a=t(5975),n=t.n(a),o=t(2597),i=t.n(o),l=t(8009),c=t(4090),d=t(1524),h=t(834),m=t(5005),u=t(6651),f=t(7418);class x extends c.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e,errorInfo:null,errorId:"error_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}}componentDidCatch(e,r){this.setState({error:e,errorInfo:r,errorId:"error_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,s.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-4",children:(0,s.jsxs)(f.Z,{className:"max-w-md w-full p-6 text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(d.Z,{className:"h-12 w-12 text-red-500"})}),(0,s.jsx)("h1",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Something went wrong"}),(0,s.jsx)("p",{className:"text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Our team has been notified."}),!1,(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)(u.z,{onClick:this.handleRetry,className:"w-full",variant:"secondary",children:[(0,s.jsx)(h.Z,{className:"h-4 w-4 mr-2"}),"Try Again"]}),(0,s.jsxs)(u.z,{onClick:this.handleGoHome,className:"w-full",variant:"outline",children:[(0,s.jsx)(m.Z,{className:"h-4 w-4 mr-2"}),"Go Home"]})]}),(0,s.jsxs)("p",{className:"text-xs text-gray-500 mt-4",children:["Error ID: ",this.state.errorId]})]})}):this.props.children}constructor(e){super(e),this.handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:""})},this.handleGoHome=()=>{window.location.href="/"},this.state={hasError:!1,error:null,errorInfo:null,errorId:""}}}var g=t(9079);let p={stratos:{id:"stratos",name:"StratOS",displayName:"StratOS",domain:"stratos.com",logo:"/logos/stratos-logo.svg",colors:{primary:"#0F172A",secondary:"#33A7B5",accent:"#EEEEEE",text:"#16181B",background:"#FFFFFF"},fonts:{heading:'"Playfair Display", serif',body:'"Inter", sans-serif'},tagline:"Strategy at the speed of transformation",supportEmail:"support@stratos.com",aesthetic:"boutique consulting - minimal, sophisticated, authoritative"},sparkworks:{id:"sparkworks",name:"Sparkworks",displayName:"Sparkworks",domain:"sparkworks.io",logo:"/logos/sparkworks-logo.svg",colors:{primary:"#FF6B35",secondary:"#FFD23F",accent:"#6A0DAD",text:"#16181B",background:"#F9FAFB"},fonts:{heading:'"Poppins", sans-serif',body:'"Inter", sans-serif'},tagline:"Where ideas hatch into ventures",supportEmail:"hello@sparkworks.io",aesthetic:"venture studio - vibrant, playful, energetic"}};function b(e){let{children:r}=e,t=function(){let[e,r]=(0,c.useState)(p[g.env.NEXT_PUBLIC_DEFAULT_TENANT||"stratos"]||p.stratos);return(0,c.useEffect)(()=>{{let e=window.location.hostname,t=e.includes("sparkworks")?p.sparkworks:p.stratos;r(t),console.log("[Tenant] Detected:",t.name,"from hostname:",e)}},[]),e}();return(0,c.useEffect)(()=>{let e=document.documentElement;e.style.setProperty("--color-primary",t.colors.primary),e.style.setProperty("--color-secondary",t.colors.secondary),e.style.setProperty("--color-accent",t.colors.accent),e.style.setProperty("--color-text",t.colors.text),e.style.setProperty("--color-background",t.colors.background),e.style.setProperty("--font-heading",t.fonts.heading),e.style.setProperty("--font-body",t.fonts.body),document.title="".concat(t.displayName," - ").concat(t.tagline);let r=document.querySelector('link[rel="icon"]');r&&(r.href="/favicons/".concat(t.id,".ico")),console.log("[TenantProvider] Applied branding for:",t.name)},[t]),(0,s.jsx)(s.Fragment,{children:r})}var y=t(8792),v=t(7907),j=t(4059),w=t(1172),N=t(438),k=t(9475),S=t(7307),E=t(2071),F=t(3832),I=t(9910),C=t(1213),Z=t(9108);function _(){return(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("div",{className:"relative w-8 h-8",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-navy rounded-full"}),(0,s.jsx)("div",{className:"absolute top-0 left-0 w-8 h-8 border-2 border-primary border-t-0 border-r-0 rounded-full"})]}),(0,s.jsx)("span",{className:"text-xl font-bold text-navy",children:"STRATOS"})]})}var A=t(9998);let T=[{name:"Dashboard",href:"/home",icon:m.Z},{name:"Clients",href:"/clients",icon:j.Z},{name:"Projects",href:"/projects",icon:w.Z},{name:"Conversations",href:"/console",icon:N.Z},{name:"Files",href:"/files",icon:k.Z},{name:"Calendar",href:"/calendar",icon:S.Z},{name:"Reports",href:"/reports",icon:E.Z},{name:"Templates",href:"/templates",icon:F.Z},{name:"Settings",href:"/settings",icon:I.Z},{name:"Profile",href:"/profile",icon:C.Z}];function P(){let[e,r]=(0,c.useState)(!1),t=(0,v.usePathname)();return(0,s.jsxs)("div",{className:"".concat(e?"w-16":"w-64"," bg-white border-r border-border transition-all duration-300 flex flex-col h-full"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[!e&&(0,s.jsx)(_,{}),(0,s.jsx)("button",{onClick:()=>r(!e),className:"p-1 rounded-md hover:bg-gray-100 transition-colors",children:(0,s.jsx)(Z.Z,{className:"w-4 h-4 text-gray-600 transition-transform ".concat(e?"rotate-180":"")})})]}),(0,s.jsx)("nav",{className:"flex-1 px-4 py-6 space-y-2",children:T.map(r=>{let a=t===r.href||t.startsWith(r.href+"/");return(0,s.jsxs)(y.default,{href:r.href,className:"flex items-center px-3 py-2 rounded-lg text-sm font-medium transition-colors ".concat(a?"bg-primary text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,s.jsx)(r.icon,{className:"w-5 h-5 mr-3"}),!e&&(0,s.jsx)("span",{children:r.name})]},r.name)})}),(0,s.jsx)("div",{className:"p-4 border-t border-border",children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(A.q,{name:"Sarah Chen",size:"sm"}),!e&&(0,s.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,s.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:"Sarah Chen"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 truncate",children:"sarah@stratos.com"})]})]})})]})}var D=t(8670),L=t(3345);function O(e){let{breadcrumbs:r}=e;return(0,s.jsxs)("div",{className:"bg-white border-b border-border h-16 flex items-center justify-between px-6",children:[(0,s.jsx)("div",{className:"flex items-center space-x-4",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(D.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),(0,s.jsx)("input",{type:"text",placeholder:"Search clients, projects, conversations...",className:"w-96 pl-10 pr-4 py-2 border border-border rounded-lg bg-gray-50 text-sm focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent"})]})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsxs)("button",{className:"relative p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-lg transition-colors",children:[(0,s.jsx)(L.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)(A.q,{name:"Sarah Chen",size:"sm"}),(0,s.jsx)("span",{className:"text-sm font-medium text-gray-900",children:"Sarah Chen"})]})]})]})}let z=(0,t(2020).Ue)((e,r)=>({user:null,isAuthenticated:!1,isLoading:!0,token:null,setUser:r=>e({user:r,isAuthenticated:!!r}),setToken:r=>{e({token:r}),r?localStorage.setItem("auth_token",r):localStorage.removeItem("auth_token")},setLoading:r=>e({isLoading:r}),login:(r,t)=>{e({user:r,token:t,isAuthenticated:!0,isLoading:!1}),localStorage.setItem("auth_token",t),localStorage.setItem("user",JSON.stringify(r))},logout:()=>{e({user:null,token:null,isAuthenticated:!1,isLoading:!1}),localStorage.removeItem("auth_token"),localStorage.removeItem("user")},refreshToken:async()=>{try{let r=localStorage.getItem("auth_token"),t=localStorage.getItem("user");if(r&&t){let s=JSON.parse(t);e({user:s,token:r,isAuthenticated:!0,isLoading:!1})}else e({isLoading:!1})}catch(r){console.error("Failed to refresh token:",r),e({isLoading:!1})}}}));function B(e){let{children:r}=e,{refreshToken:t}=z();return(0,c.useEffect)(()=>{t()},[t]),(0,s.jsxs)("html",{lang:"en",className:"".concat(n().variable," ").concat(i().variable),children:[(0,s.jsxs)("head",{children:[(0,s.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,s.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"})]}),(0,s.jsx)("body",{className:n().className,children:(0,s.jsx)(b,{children:(0,s.jsxs)(x,{children:[(0,s.jsxs)("div",{className:"flex h-screen overflow-hidden bg-background",children:[(0,s.jsx)(P,{}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,s.jsx)(O,{}),(0,s.jsx)("main",{className:"flex-1 overflow-y-auto",children:r})]})]}),(0,s.jsx)(l.x7,{position:"top-right",toastOptions:{duration:3e3,style:{background:"#fff",color:"#0f172a",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"12px 16px"},success:{iconTheme:{primary:"#10b981",secondary:"#fff"}},error:{iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})})})]})}t(3385)},9998:function(e,r,t){"use strict";t.d(r,{q:function(){return o}});var s=t(3827),a=t(2169);let n=["bg-primary","bg-navy","bg-purple-600","bg-green-600","bg-orange-600","bg-pink-600","bg-blue-600","bg-indigo-600"];function o(e){let{name:r,size:t="md",className:o}=e,i=r.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),l=r.length%n.length,c=n[l];return(0,s.jsx)("div",{className:(0,a.cn)("rounded-full flex items-center justify-center text-white font-medium",c,{xs:"w-6 h-6 text-xs",sm:"w-8 h-8 text-sm",md:"w-10 h-10 text-sm",lg:"w-12 h-12 text-base",xl:"w-16 h-16 text-lg"}[t],o),children:i})}},6651:function(e,r,t){"use strict";t.d(r,{z:function(){return l}});var s=t(3827),a=t(4090),n=t(9769),o=t(2169);let i=(0,n.j)("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-primary text-white hover:bg-primary/90",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",outline:"border border-border bg-transparent hover:bg-gray-50",ghost:"hover:bg-gray-100",destructive:"bg-red-500 text-white hover:bg-red-600"},size:{sm:"h-8 px-3 text-xs",default:"h-10 px-4 py-2",lg:"h-12 px-8 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"primary",size:"default"}}),l=a.forwardRef((e,r)=>{let{className:t,variant:a,size:n,asChild:l=!1,loading:c=!1,...d}=e;return(0,s.jsxs)("button",{className:(0,o.cn)(i({variant:a,size:n,className:t})),ref:r,disabled:c||d.disabled,...d,children:[c&&(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d.children]})});l.displayName="Button"},7418:function(e,r,t){"use strict";t.d(r,{Z:function(){return n}});var s=t(3827),a=t(2169);function n(e){let{children:r,className:t,hover:n=!1}=e;return(0,s.jsx)("div",{className:(0,a.cn)("bg-white border border-border rounded-lg shadow-sm",n&&"hover:shadow-md transition-shadow",t),children:r})}},2169:function(e,r,t){"use strict";t.d(r,{S:function(){return o},cn:function(){return n}});var s=t(3167),a=t(1367);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,s.W)(r))}function o(e){let r=new Date,t="string"==typeof e?new Date(e):e,s=Math.floor((r.getTime()-t.getTime())/1e3);return s<60?"just now":s<3600?"".concat(Math.floor(s/60),"m ago"):s<86400?"".concat(Math.floor(s/3600),"h ago"):"".concat(Math.floor(s/86400),"d ago")}},3385:function(){}},function(e){e.O(0,[700,387,521,971,69,744],function(){return e(e.s=3602)}),_N_E=e.O()}]);