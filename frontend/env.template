# StratOS Platform - Environment Variables Template
# Copy this file to .env and fill in the values from infrastructure/azure-resources.txt

# ============================================
# Azure OpenAI Configuration
# ============================================
# Azure OpenAI service endpoint URL
AZURE_OPENAI_ENDPOINT=https://stratos-platform-openai-XXXXXX.openai.azure.com/

# Azure OpenAI API key (found in Azure Portal → OpenAI → Keys and Endpoint)
AZURE_OPENAI_KEY=your-openai-key-here

# Deployment name for GPT-4 model
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# Deployment name for text embeddings model
AZURE_OPENAI_EMBEDDING_DEPLOYMENT=text-embedding-ada-002

# OpenAI API version
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# ============================================
# Azure Cosmos DB Configuration
# ============================================
# Cosmos DB account endpoint URL
COSMOS_DB_ENDPOINT=https://stratos-platform-cosmos-XXXXXX.documents.azure.com:443/

# Cosmos DB primary master key
COSMOS_DB_KEY=your-cosmos-key-here

# Database name (should be "stratos" if using setup.sh)
COSMOS_DB_DATABASE_NAME=stratos

# ============================================
# Azure Storage Configuration
# ============================================
# Full connection string for Azure Storage Account
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=stratosXXXXXX;AccountKey=your-key-here;EndpointSuffix=core.windows.net

# Individual storage account details (if needed)
AZURE_STORAGE_ACCOUNT_NAME=stratosXXXXXX
AZURE_STORAGE_ACCOUNT_KEY=your-storage-key-here

# ============================================
# Azure Cognitive Search Configuration
# ============================================
# Cognitive Search service endpoint URL
AZURE_SEARCH_ENDPOINT=https://stratos-platform-search-XXXXXX.search.windows.net

# Cognitive Search admin API key
AZURE_SEARCH_KEY=your-search-admin-key-here

# Search index names
AZURE_SEARCH_INDEX_DOCUMENTS=documents
AZURE_SEARCH_INDEX_PROMPTS=prompts

# ============================================
# Azure Key Vault Configuration
# ============================================
# Key Vault URI
AZURE_KEYVAULT_URI=https://stratos-kv-XXXXXX.vault.azure.net/

# ============================================
# Application Insights Configuration
# ============================================
# Application Insights instrumentation key
APPINSIGHTS_INSTRUMENTATIONKEY=your-instrumentation-key-here

# Application Insights connection string
APPINSIGHTS_CONNECTION_STRING=InstrumentationKey=your-key-here;IngestionEndpoint=https://eastus-8.in.applicationinsights.azure.com/

# ============================================
# Azure AD B2C Configuration
# ============================================
# B2C tenant name (e.g., "stratos-platform" for stratos-platform.onmicrosoft.com)
AZURE_AD_B2C_TENANT_NAME=stratos-platform

# B2C tenant domain (full domain name)
AZURE_AD_B2C_DOMAIN=stratos-platform.b2clogin.com

# Application (client) ID from B2C app registration
AZURE_AD_B2C_CLIENT_ID=your-client-id-here

# Client secret value from B2C app registration
AZURE_AD_B2C_CLIENT_SECRET=your-client-secret-here

# Primary user flow name (sign-up and sign-in)
AZURE_AD_B2C_PRIMARY_USER_FLOW=B2C_1_signupsignin

# Profile editing user flow name
AZURE_AD_B2C_PROFILE_EDIT_FLOW=B2C_1_profileediting

# Password reset user flow name
AZURE_AD_B2C_PASSWORD_RESET_FLOW=B2C_1_passwordreset

# ============================================
# Azure Functions Configuration
# ============================================
# Function App name
FUNCTION_APP_NAME=stratos-platform-func-XXXXXX

# Function App URL
FUNCTION_APP_URL=https://stratos-platform-func-XXXXXX.azurewebsites.net

# ============================================
# Application Configuration
# ============================================
# Environment (development, staging, production)
NODE_ENV=development

# Frontend URL (for CORS and callbacks)
FRONTEND_URL=http://localhost:3000

# API base URL
API_BASE_URL=http://localhost:7071/api

# JWT secret for token signing (generate a strong random string)
JWT_SECRET=your-jwt-secret-generate-a-strong-random-string

# JWT expiration time (e.g., "7d" for 7 days, "24h" for 24 hours)
JWT_EXPIRATION=7d

# ============================================
# Feature Flags
# ============================================
# Enable/disable specific features
ENABLE_VECTOR_SEARCH=true
ENABLE_STREAMING=true
ENABLE_FUNCTION_CALLING=true
ENABLE_TELEMETRY=true

# ============================================
# Rate Limiting & Quotas
# ============================================
# Maximum requests per tenant per month
MAX_REQUESTS_PER_MONTH=1000

# Maximum storage per tenant (in MB)
MAX_STORAGE_MB=5000

# Maximum file upload size (in MB)
MAX_UPLOAD_SIZE_MB=100

# ============================================
# OpenAI Configuration Defaults
# ============================================
# Default temperature for completions (0.0 to 1.0)
OPENAI_DEFAULT_TEMPERATURE=0.7

# Default max tokens for completions
OPENAI_DEFAULT_MAX_TOKENS=2000

# Default top_p for completions
OPENAI_DEFAULT_TOP_P=0.95

# Default frequency penalty
OPENAI_DEFAULT_FREQUENCY_PENALTY=0.0

# Default presence penalty
OPENAI_DEFAULT_PRESENCE_PENALTY=0.0

# ============================================
# Logging & Monitoring
# ============================================
# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Enable detailed error logging
DETAILED_ERRORS=true

# ============================================
# CORS Configuration
# ============================================
# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:3000,https://your-frontend-domain.com

# ============================================
# Email Configuration (Optional)
# ============================================
# SendGrid API key for email notifications
SENDGRID_API_KEY=your-sendgrid-key-here

# From email address
EMAIL_FROM=noreply@stratos-platform.com

# ============================================
# Webhook Configuration (Optional)
# ============================================
# Webhook URL for external integrations
WEBHOOK_URL=https://your-webhook-endpoint.com

# Webhook secret for signature verification
WEBHOOK_SECRET=your-webhook-secret-here

